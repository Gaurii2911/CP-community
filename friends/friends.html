<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CP Community|Friends</title>
    <link rel="stylesheet" href="friends.css">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2&family=Baloo+Bhaina+2&family=Bree+Serif&family=Hedvig+Letters+Serif:opsz@12..24&family=Kalnia:wght@200;300&family=Ubuntu:wght@300&display=swap"
    rel="stylesheet">
</head>
<body>
    <nav id="navbar">
        <div id="logo">
            <img src="/image/navlogo.png" alt="Coding World">
        </div>
        <ul>
            <li class="items"><a href="/html/index2.html">Home</a></li>
            <li class="items" ><a href="/stalklist/stalk.html"  >Stalklist</a></li>
            <li class="items" ><a href="#" class="active">Friends</a></li>
            <li class="items" ><a href="/ismcommunity/ism.html">ISMcommunity</a></li>
            <li class="items"><a href="#">Contact Us</a></li>
            <li  id="searchbox"><input type="text" name="" placeholder="Search Here" id="search-box"></li>
            <li class="items logout" ><a href="#">Logout</a></li>
        </ul>
    </nav>
    <h1 id="heading">Friends</h1>
    <section id="main">
    <div class="members">
        <div id="value1"> </div>
    </div>
</section> 

<script type="module" >

    // Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import  {getAuth , createUserWithEmailAndPassword , signOut , signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
apiKey: "AIzaSyCkGszuBdyX8ZBwdPNygLfEkR6b1tpQtHA",
authDomain: "cp-community-5c382.firebaseapp.com",
projectId: "cp-community-5c382",
storageBucket: "cp-community-5c382.appspot.com",
messagingSenderId: "1088755596953",
appId: "1:1088755596953:web:d2cb23e4b145bbb1410208"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);

const auth= getAuth(app)

const logoutButton =document.querySelector('.logout')
logoutButton.addEventListener('click' , () =>{
signOut(auth)
.then(()=>{
    console.log('the user signed out')
    window.location.href = '../html/index.html';
})
.catch((err)=>{
    console.log(err.message)
})
})
</script>

<script>

    function executeSearch() {
    //   const searchInput = document.getElementById('search-box');
    
    // Add an event listener for the 'keydown' event
    var searchInput = document.getElementById('search-box');
    searchInput.addEventListener('keydown', (e)=>{
  // Check if the pressed key is Enter (keyCode 13)
  if (e.keyCode === 13) {
            let value
                value = e.target.value
                console.log(value)

                fetch(`https://codeforces.com/api/user.info?handles=${value}`)
                    .then((response)=>response.json())
                    .then(data => {
                                  localStorage.setItem('userData', JSON.stringify(data));
                                //   console.log(response)
                                window.location.href = '../html/index3.html';
        })
              
                    .catch((error) => console.log(error))
                }
});
 
}


    executeSearch()
    </script>
</body>
</html>